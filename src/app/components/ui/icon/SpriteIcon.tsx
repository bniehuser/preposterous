import { Property } from 'csstype';
import React, { FC, useEffect, useState } from 'react';

const IMG_SRC = {
  planet: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AsCCAojUdKA+AAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABbSURBVEjH7VQ5DgAgCAP+/2dcjVHCKYmxq/QYagE+uoGaI2bmLRkRQwaz8ComvYE29Sm55y5EMpuYEwkcyhA3cbMNqPofPGqQ2aL7NfWYuJqXNRXlY1c+1x/9GAkhd7EGyckGAAAAAElFTkSuQmCC',
  station: 'data:image/png;base64,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',
  glyphOrange: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH4AsODS8j9TwtTAAAAbZJREFUKM+d0r9LVXEch/HX93jyFubpilCJLhEENhg0RZo09GNr8J8IWhuMFjexojVwbRaRBitqKTWbL2EUhMuViy3djkZZ1/NpuLUEQfSenuVZ3jwpNiQkoyoN55Ru+Oyq7+ko6I2Pjniq8MCY197KECk2umDXTU13SBlI0QGRcl2ojJh22H2kzKiqK6V7Bi3JozQcMwYsG7BsOGbkURq0pJnu2XXTqCrXMG7bbXm0hZpOKnTiuO9OgAO2dFIhoiaPtm23NaxnSteFTGFV2yV9saFjyJ5he4Z1DOmLDW2XFFaFX86iKtbdjSCeeBcNZyOIFxbihYUIouFsPPEuglg3F4v2Uyym0Bdv9GopjSu8ktmxYxz0W1PpVzqvsOaHo3bTme6D/74k5JARofDYRVfUNA2aNmlKvxX9VkyaMmhaTdNFlxWWiUix4qFPrimsaLvskA8Oeq80CQovfXPKVyfVPVO6YMCjTGFeUilNqHvuSzot11KzpWZLruVLOq3uudKEpFKYz4xZc8ysTqqj0hM7ci29NvXalGvpiR1UOqnumFlj1v5Mbo7U85fk9o249Tu59L+R/wQ1ldAg4yClXAAAAABJRU5ErkJggg==',
  shipInTransit: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAG+XpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7VhXkus4EvyvU+wR4M1xYCP2Bnv8ySqAFNVG0y2+n4kdsVuQQCDLZKJAiMb//jvpP3jZpAM5H1PIISi8XHbZFHxIar2KvGvl5F1ebt/C96d+Om8YdFm0dn1NYfcP9BuMN7u/bZyCfn8BymPfqM83ygYyaRvY/Ychq5cBtYGpbCBrtuXtYl1hqZBTvIbQ9vi570sa8E/85mw0wQcdHd6dUTGGjM/JKBeRt86O2ij2T0Mfv9Mx1MAnM6y2Cu/ioYX7NtmCNuDdWDiNHo3PHt+4f6cCbBlSEZ/zkdfXr1ee0+H6pvyJ0vOT/qb/wjRJQo8b9gND4Wy/7Nf+0U9XSoW3i+UQTstP/bGp/hTzwRr/z9nTnGNFV1xAyGEHdYQinzCucrZkVsAV8e9V4mTzlXElLIkGOjtEVnE1nbUBjVM73XXRUw9pm25w0ZlhIlpjmrG6EToTyMimCd2OLz1NtNl2kG9sgxwses3pixazWcw1nWC460RQjwaYxpRbF/1k0Jy8oLRW6cwV/DKsbHjBzGlNSmMYGNFzJ9VLgo/r44t5tWDQS5oTAiyqMgLor14/xGWFaIuBHu1aRzr2DYAUwQMPZ7BUnFZBW6+DVtEYilojkQkEFbhurDMVtGjvTYeTxlkbQA5WAWxjTtQy1HizulEIQYS3gWwEN9kWkOWch36iS9BQ8dY7733w0SeffQk28AoLIQauqCXa6KKPIcaYYo6Fkk0u+RRSTCnlVLLJFhXXZ6zHnHLOpcBoAXLB7IIBpVRTbXXV11BjTTXX0gw121zzLbTYUsutdNNtxzruoceeeu5l6AEpDTf8CCOONPIoE1KbdrrpZ5hxpplplpO1Teun6xes6c2aEaZ4YDxZQ2+MB4TmcuKZMzBmnAbhkRnQloxhzlTSzhlmjjlTGeXQegMnPZPTNTMGBt3Qxk99cvdgzhPK6B/hjUCE+RPMEVP3A+Y+8/YVa73IRmeFIV6GnFRlsfpmniMVkwrvlC9b+rsBP23/BfoX6J8HNJ2aKfipWp1Do1xMrF0Usz5ntXM0PXyk2WqNudYZx5xYXVinGut0zB7QyT0pAANt4VFoTa68e4ekbBMzkXtprnFrlIxRikf9HGIh0H2IhUD3IRYC3YdYCHQfYiHQfYiFQPch1k36AoLlh74lP99EXTJlSdDZ0ecIcynQVxtCE6DQq8241bupDbUeNkTVP24t4AWIzWHvioxlxX71/Gzlp3wbrUlIeCJlz2VcKDgdPWHS74yfTozIu1hA8Nh8JdnYJ7nLepwU/ZAEV9exJLFPinec9epCbeqlAfo+bEBuXi5xX6NeMUvE8OjboC/tyhUzqVFCPjJZLDNJJ5VtnlRikD6ZZPdEFVmKytCSmeK1wJQseguFgHe9t+6EUuTUuufj85djjoLHftK14rGTR8VbPl4Knj4L3uHjUyGl48O2HHJZ6fWw3xeLIfWYlI+iptGt5MaaGqGqvvp0oSm/N/y24q+V2DNiHCHAh0pRyOule0Ts8aSleZENwwSYisejjgEpO4SfYq9IkHgc8zQVzCyPGp78o62s++14w1EoySKvus7qkTGD/HbYDApTJx7aYut91uUTzocJT3pIJFWn9MAzrccf/xywWz9kIPgYGv7j8TCAhXroaQYkKFl2KMcwbYw02NzAU6KFdPosPRYcf4A+ca7nupGW8FQBdMXRTaLmZGg8Pk4WqO+1FeoZKsSQ0HMDSWFkdsbjmlcYifQCIxwj2gOoE4crQEewVaLiybt8eDiO0ZYXb8AxParFxyNk5oOeYy5nzAh5PofMRw7m4hqqsLHKyI5VCOFYOdRl+wjVxcf8p9l7KtSFyXSdjVTs+Yifk5X4Rx0vVD63MR81fImlDFpUQFSil8OG5BCKKQcX6mKABbPMPipgoC2sVQJrRxGF17JdIHs+dahjKcokCGmJMLIXOELgQIFMYp335Knh0IM8eq5e7zxmiW0QSGI8+QjYgsDFcEfdjqhzkkgY9lhTe3NMoQ2ooUYnlmUfkDt0FKY36hKcMXXs4kZPVfiEWbvpASMleH4owVyKOKadT1oJLflzQv01ofzzkj/ziYLkPmwT9Hov/Mn+sbYPerl/rKeJB0aQpXydz4ACQBvhGny7iOkhpSPuLaPF50NI9Aj8XSkuAHpfip+e/A9t3pMmPbR5T5r00OY9adJDm/ekSfeluHyl+1JcAHRfiitOui/FpUS6L8XV0ldl8x1p0ldl8x1p0ldl8x1p0ldl8x1p0uey+VspLiHRfSkuJdJ9KS4l0n0pLgHRn/hd5AXQ76VJ3+3o/eUR5vMJhvbxRJj/2+nje0roJ5xsL1/uyfTGgfb/CAhrs2f6C0FRBDwLFJfZAAAABmJLR0QAvgDpABDtMPZBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYXCTQFEUe2WAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAJgSURBVHja7ZjBahNBHMZ/U7PRUsUq0QbBk4dawYtooQr6Ej6DD+Sz6CNoBb14UMxBL7lUjUbUIu6mjpdvYVlS02RmZw7+fxBms5v8Z+b7vpldFgzDMAzDMAzDMAzDMAzDMAzDMAzjv8DFKOK9d0kH7ZzPLoAmXQB9talE8EAFlEAVKkYv4L8FMACuqi0SCVABE2CstswlQF+Tvw88Ai4BP3Xt95zf1u7NS2B7EqfVHs2psw48Bp4C37MI0Ij/ANgGNoCv+hxpkE0+LSi50fo+Udusc0p9rgNX6tR5713IMugF7h8FsCkXngBvJcIM+BMp8msa50XgBvAQGMbad3oRBvhLjs3UvouxNluxHwDX1cc45oYbIkBzN54BO8APYCoBDnXdByasD2wBN9XHGvAlsHaYAM45772vd+MPiuQQuCMxPDACPjvnyhX3meYec1e1LwMHqj3JfRssFcd9ubInp/YadWfe++kyA21ssBc0+Qea/BbwEXihPscxllmIAHUC3jRq1QOtk0CdhCUGW+iWug3ca03+JfBMfU41hjwCyNFSDo9qx1dNwgmc39fkR8B01aXVxV2gksOzwCQkdT6aAKFJyOV8zASEJiGL89EFWCEJ33S8mcP5LhKwTBIc8F7XrzXu88mc70yAJZJwVtdu5XC+ywScJAm7wDmd39ETXlLnOxdgQRKGwHmdO6PH26TOp0jAv5Kwq5cp6JE2ufPJBDgmCRVwW8evgOepnU+ZgOOScKj2dQ7n2+/kkuG9r19wDHXqAJikdj6nAPWjb9FIRhXzXb9hGIZhGIZhGMYi/gLxwivJQ7M6AAAAAABJRU5ErkJggg==',
  handshake: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH4AsODS8z6Is9KAAAAhdJREFUKM9dkk1IVGEUhp9zv+82/l38rQkSLKKgzI0VFhQtw5XYLpBatKho44BZgrQsKlsHlQSG5UpCycoiEpPQogYhIyhqMZSOf+PPNDh37ve1cKoZXzgc3nMO5yzOo8hKa3A1IiDGkietEK1xAkN+R2Q95frcyKn/d6HQeq2tDd72sr3tNLXZK0orFEDnWSoe3WAPgFKIVusLVCQCdpLatcfM2hH6IxEo9VClHqq1FewEHXaARO9VjgM4givt7XC9hX3+D56SJuxUMqg0v/G4i8MiaQ4GKer9RRoLhPLud5zsHeW5mCiHTIw+FVBJGcMYimyK3cYlZosYk4CwylCDZtYmOSBpwmwj4qQSNEmGSlPGEA5JCvgkLkvK442GcuUxSBURBGMLiQYuP1nknNTtouR1N7UVKe6bEoalkJeySsvYFPHYAt/qqjm6dydx3zLvJmmOJri4kGRUxRdIv5pgpqmRuLfMlUyGsCpmoucFPQMfeLI1zGBdDYfVDJe++nT1TdLT2UVaQiFYW8Pp78c0b+GOv8J+CviioUwKeW9cPmYSnNoUYv7BKJdvPmTOpLLvFUFKS5Ad1YRGbnPeE45Yn82sUi/FTK0oho5d4Nb3XywvLSHWYv+RoBQEATQ0wLUznJibpgmXaFUVnzvu8Wx8HHEcrAgYswGzv9hZm89kDmrWZjvCBjkOuBplLQowIlg/Q2BM/twfGMTEnBtmvncAAAAASUVORK5CYII=',

};

interface Props {
  img: keyof typeof IMG_SRC;
  color: Property.Color;
}

export const SpriteIcon: FC<Props> = ({img, color, ...props}) => {
  const [imgData, setImgData] = useState<string>(IMG_SRC[img]);
  useEffect(() => {
    const i = new Image();
    i.onload = () => {
      const c = document.createElement('canvas');
      c.height=i.height;
      c.width=i.width;
      const ctx = c.getContext('2d');
      if(ctx) {
        ctx.fillStyle = color;
        ctx.fillRect(0,0,i.width,i.height);
        ctx.globalCompositeOperation = "destination-atop";
        ctx.drawImage(i, 0, 0);
        setImgData(c.toDataURL());
      }
    };
    i.src = IMG_SRC[img];
  }, [img, color]);
  return (
    <img alt={''} {...props} src={imgData}/>
  )
}
